(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-88073580"],{"0ca9":function(e,t,a){"use strict";var r=a("792d");a.n(r).a},"0d3e":function(e,t,a){"use strict";function r(e){return e=e.replace(/<img[^>]*>/gi,(function(e,t){return(e=(e=e.replace(/style="[^"]+"/gi,"").replace(/style='[^']+'/gi,"")).replace(/width="[^"]+"/gi,"").replace(/width='[^']+'/gi,"")).replace(/height="[^"]+"/gi,"").replace(/height='[^']+'/gi,"")})),(e=(e=e.replace(/style="[^"]+"/gi,(function(e,t){return e.replace(/width:[^;]+;/gi,"max-width:100%;").replace(/width:[^;]+;/gi,"max-width:100%;")}))).replace(/<br[^>]*\/>/gi,"")).replace(/\<img/gi,'<img style="max-width:100%;height:auto;display:block;margin-top:0;margin-bottom:0;"')}a.d(t,"a",(function(){return r})),a("ac1f"),a("5319")},1148:function(e,t,a){"use strict";var r=a("da84"),o=a("5926"),i=a("577e"),n=a("1d80"),_=r.RangeError;e.exports=function(e){var t=i(n(this)),a="",r=o(e);if(r<0||r==1/0)throw _("Wrong number of repetitions");for(;0<r;(r>>>=1)&&(t+=t))1&r&&(a+=t);return a}},1184:function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return _})),a.d(t,"g",(function(){return s})),a.d(t,"f",(function(){return l})),a.d(t,"e",(function(){return c})),a("99af");var r=a("6b6c");function o(e){return Object(r.a)({url:"marketing/lottery/list",method:"get",params:e})}function i(e){return Object(r.a)({url:"marketing/lottery/factor_info/".concat(e),method:"get"})}function n(e){return Object(r.a)({url:"marketing/lottery/add",method:"post",data:e})}function _(e,t){return Object(r.a)({url:"marketing/lottery/edit/".concat(e),method:"put",data:t})}function s(e){return Object(r.a)({url:"marketing/lottery/set_status/".concat(e.id,"/").concat(e.status),method:"post"})}function l(e){return Object(r.a)({url:"marketing/lottery/record/list",method:"get",params:e})}function c(e){return Object(r.a)({url:"marketing/lottery/record/deliver",method:"post",data:e})}},1499:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("a4d3"),core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("e01a"),core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("d28b"),core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("3ca3"),core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("ddb0"),core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_symbol_async_iterator_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("b636"),core_js_modules_es_symbol_async_iterator_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_symbol_async_iterator_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_symbol_to_string_tag_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("944a"),core_js_modules_es_symbol_to_string_tag_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_symbol_to_string_tag_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_json_to_string_tag_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("0c47"),core_js_modules_es_json_to_string_tag_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_json_to_string_tag_js__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_math_to_string_tag_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("23dc"),core_js_modules_es_math_to_string_tag_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_math_to_string_tag_js__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_object_get_prototype_of_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("3410"),core_js_modules_es_object_get_prototype_of_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_object_get_prototype_of_js__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es_error_cause_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("d9e2"),core_js_modules_es_error_cause_js__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es_error_cause_js__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("b0c0"),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_11__),core_js_modules_es_object_set_prototype_of_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("131a"),core_js_modules_es_object_set_prototype_of_js__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_es_object_set_prototype_of_js__WEBPACK_IMPORTED_MODULE_12__),core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("fb6a"),core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_13__),_Users_wuhaotian_Code_ZhongBang_kaiyuan_gitee_template_admin_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_esm_typeof_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("0122"),_Users_wuhaotian_Code_ZhongBang_kaiyuan_gitee_template_admin_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("d0ff"),_Users_wuhaotian_Code_ZhongBang_kaiyuan_gitee_template_admin_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("c964"),_Users_wuhaotian_Code_ZhongBang_kaiyuan_gitee_template_admin_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("f3f3"),_Users_wuhaotian_Code_ZhongBang_kaiyuan_gitee_template_admin_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("fc11"),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("d3b7"),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_19__),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("25f0"),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_20__),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("159b"),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_21__),core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("a434"),core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_22___default=__webpack_require__.n(core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_22__),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("a15b"),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_23___default=__webpack_require__.n(core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_23__),core_js_modules_es_number_to_fixed_js__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("b6802"),core_js_modules_es_number_to_fixed_js__WEBPACK_IMPORTED_MODULE_24___default=__webpack_require__.n(core_js_modules_es_number_to_fixed_js__WEBPACK_IMPORTED_MODULE_24__),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("99af"),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_25___default=__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_25__),vuex__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("2f62"),_components_goodsList_index__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("c4ad"),_components_uploadPictures__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("b0e7"),_components_userLabel__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("232f"),_addGoods__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__("eab1"),_api_lottery__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__("1184"),_formRule_lotteryFrom__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__("d1cc"),_api_product__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__("c4c8"),_api_user__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__("c24f"),_components_wangEditor_index_vue__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__("a069"),_utils_validate__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__("61f7"),_utils_editorImg__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__("0d3e"),sortablejs__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__("aa47");function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r=Object.defineProperty||function(e,t,a){e[t]=a.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",n=o.asyncIterator||"@@asyncIterator",_=o.toStringTag||"@@toStringTag";function s(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(t){s=function(e,t,a){return e[t]=a}}function l(e,t,a,o){var i,n,_,s;t=t&&t.prototype instanceof d?t:d,t=Object.create(t.prototype),o=new y(o||[]);return r(t,"_invoke",{value:(i=e,n=a,_=o,s="suspendedStart",function(e,t){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===e)throw t;return D()}for(_.method=e,_.arg=t;;){var a=_.delegate;if(a&&(a=function e(t,a){var r=a.method,o=t.iterator[r];return void 0===o?(a.delegate=null,"throw"===r&&t.iterator.return&&(a.method="return",a.arg=void 0,e(t,a),"throw"===a.method)||"return"!==r&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+r+"' method")),u):(r=c(o,t.iterator,a.arg),"throw"===r.type?(a.method="throw",a.arg=r.arg,a.delegate=null,u):(o=r.arg,o?o.done?(a[t.resultName]=o.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=void 0),a.delegate=null,u):o:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,u)))}(a,_),a)){if(a===u)continue;return a}if("next"===_.method)_.sent=_._sent=_.arg;else if("throw"===_.method){if("suspendedStart"===s)throw s="completed",_.arg;_.dispatchException(_.arg)}else"return"===_.method&&_.abrupt("return",_.arg);if(s="executing",a=c(i,n,_),"normal"===a.type){if(s=_.done?"completed":"suspendedYield",a.arg===u)continue;return{value:a.arg,done:_.done}}"throw"===a.type&&(s="completed",_.method="throw",_.arg=a.arg)}})}),t}function c(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function d(){}function m(){}function p(){}o={};var f=(s(o,i,(function(){return this})),Object.getPrototypeOf),h=(f=f&&f(f(w([]))),f&&f!==t&&a.call(f,i)&&(o=f),p.prototype=d.prototype=Object.create(o));function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){var o;r(this,"_invoke",{value:function(r,i){function n(){return new t((function(o,n){!function r(o,i,n,_){var s;o=c(e[o],e,i);if("throw"!==o.type)return(i=(s=o.arg).value)&&"object"==Object(_Users_wuhaotian_Code_ZhongBang_kaiyuan_gitee_template_admin_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_esm_typeof_js__WEBPACK_IMPORTED_MODULE_14__.a)(i)&&a.call(i,"__await")?t.resolve(i.__await).then((function(e){r("next",e,n,_)}),(function(e){r("throw",e,n,_)})):t.resolve(i).then((function(e){s.value=e,n(s)}),(function(e){return r("throw",e,n,_)}));_(o.arg)}(r,i,o,n)}))}return o=o?o.then(n,n):n()}})}function v(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function y(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(v,this),this.reset(!0)}function w(e){if(e){var t,r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return t=-1,(r=function r(){for(;++t<e.length;)if(a.call(e,t))return r.value=e[t],r.done=!1,r;return r.value=void 0,r.done=!0,r}).next=r}return{next:D}}function D(){return{value:void 0,done:!0}}return r(h,"constructor",{value:m.prototype=p,configurable:!0}),r(p,"constructor",{value:m,configurable:!0}),m.displayName=s(p,_,"GeneratorFunction"),e.isGeneratorFunction=function(e){return e="function"==typeof e&&e.constructor,!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,_,"GeneratorFunction")),e.prototype=Object.create(h),e},e.awrap=function(e){return{__await:e}},b(g.prototype),s(g.prototype,n,(function(){return this})),e.AsyncIterator=g,e.async=function(t,a,r,o,i){void 0===i&&(i=Promise);var n=new g(l(t,a,r,o),i);return e.isGeneratorFunction(a)?n:n.next().then((function(e){return e.done?e.value:n.next()}))},b(h),s(h,_,"Generator"),s(h,i,(function(){return this})),s(h,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t,a=Object(e),r=[];for(t in a)r.push(t);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in a)return e.value=t,e.done=!1,e}return e.done=!0,e}},e.values=w,y.prototype={constructor:y,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return n.type="throw",n.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;0<=o;--o){var i=this.tryEntries[o],n=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var _=a.call(i,"catchLoc"),s=a.call(i,"finallyLoc");if(_&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(_){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}var n=(i=i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc?null:i)?i.completion:{};return n.type=e,n.arg=t,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(n)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),E(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var a,r,o=this.tryEntries[t];if(o.tryLoc===e)return"throw"===(a=o.completion).type&&(r=a.arg,E(o)),r}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:w(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}__webpack_exports__.a={name:"lotteryCreate",components:{goodsList:_components_goodsList_index__WEBPACK_IMPORTED_MODULE_27__.default,uploadPictures:_components_uploadPictures__WEBPACK_IMPORTED_MODULE_28__.a,addGoods:_addGoods__WEBPACK_IMPORTED_MODULE_30__.a,WangEditor:_components_wangEditor_index_vue__WEBPACK_IMPORTED_MODULE_35__.a,userLabel:_components_userLabel__WEBPACK_IMPORTED_MODULE_29__.a},data:function(){return Object(_Users_wuhaotian_Code_ZhongBang_kaiyuan_gitee_template_admin_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_18__.a)({selectDataLabel:[],selectLabelShow:!1,content:"",tabs:[{name:"积分抽取",type:"1"},{name:"订单支付",type:"3"},{name:"订单评价",type:"4"}],title:"添加商品",loading:!1,userLabelList:[],userLevelListApi:[],submitOpen:!1,spinShow:!1,addGoodsModel:!1,editData:{},myConfig:{autoHeightEnabled:!1,initialFrameHeight:500,initialFrameWidth:"100%",UEDITOR_HOME_URL:"/UEditor/",serverUrl:""},isChoice:"单选",current:0,modalPic:!1,modal_loading:!1,images:[],templateList:[{id:-1,name:"不限制会员类型"},{id:0,name:"非付费会员"},{id:1,name:"付费会员"}],specsData:[{type:1,name:"",num:10,image:"",chance:0,total:0,prompt:""},{type:1,name:"",num:0,image:"",chance:0,total:0,prompt:""},{type:1,name:"",num:0,image:"",chance:0,total:0,prompt:""},{type:1,name:"",num:0,image:"",chance:0,total:0,prompt:""},{type:1,name:"",num:0,image:"",chance:0,total:0,prompt:""},{type:1,name:"",num:0,image:"",chance:0,total:0,prompt:""},{type:1,name:"",num:0,image:"",chance:0,total:0,prompt:""},{type:1,name:"",num:0,image:"",chance:0,total:0,prompt:""}],formValidate:{images:[],name:"",desc:"",image:"",factor:"1",factor_num:1,attends_user:1,user_level:[],user_label:[],is_svip:"-1",prize_num:0,period:[],prize:[],lottery_num_term:1,lottery_num:1,spread_num:1,is_all_record:0,is_personal_record:0,is_content:0,content:"",status:0},ruleValidate:_formRule_lotteryFrom__WEBPACK_IMPORTED_MODULE_32__.a,currentid:"",picTit:"",tableIndex:0,copy:0,editIndex:null,id:""},"copy",0)},filters:{typeName:function(e){return 1==e?"未中奖":2==e?"积分":3==e?"余额":4==e?"红包":5==e?"优惠券":6==e?"商品":void 0}},computed:Object(_Users_wuhaotian_Code_ZhongBang_kaiyuan_gitee_template_admin_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_17__.a)(Object(_Users_wuhaotian_Code_ZhongBang_kaiyuan_gitee_template_admin_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_17__.a)({},Object(vuex__WEBPACK_IMPORTED_MODULE_26__.d)("admin/layout",["isMobile"])),{},{labelWidth:function(){return this.isMobile?void 0:"120px"},labelPosition:function(){return this.isMobile?"top":"right"}}),mounted:function(){var e=this;this.getInfo(),this.labelListApi(),this.levelListApi(),this.$nextTick((function(t){e.setSort()}))},methods:{changeUsers:function(e){1==e&&(this.formValidate.user_level=[],this.formValidate.user_label=[],this.formValidate.is_svip="-1",this.selectDataLabel=[])},labelClose:function(){this.selectLabelShow=!1},activeSelectData:function(e){this.selectLabelShow=!1,this.selectDataLabel=e},onClickTab:function(e){this.getInfo(this.formValidate.factor)},getEditorContent:function(e){this.content=e},labelListApi:function(){var e=this;Object(_api_product__WEBPACK_IMPORTED_MODULE_33__.n)().then((function(t){e.userLabelList=t.data.list}))},levelListApi:function(){var e=this;Object(_api_user__WEBPACK_IMPORTED_MODULE_34__.p)().then((function(t){e.userLevelListApi=t.data.list}))},onchangeTime:function(e){var t=this;this.$nextTick((function(){t.$set(t.formValidate,"period",e)}))},getInfo:function(e){var t=this;this.spinShow=!0,Object(_api_lottery__WEBPACK_IMPORTED_MODULE_31__.d)(this.formValidate.factor).then((function(a){200!=a.status||Array.isArray(a.data)?(t.formValidate={images:[],name:"",desc:"",image:"",factor:e.toString(),factor_num:1,attends_user:1,user_level:[],user_label:[],is_svip:"-1",prize_num:0,period:[],prize:[],lottery_num_term:1,lottery_num:1,spread_num:1,is_all_record:0,is_personal_record:0,is_content:0,content:"",status:0},t.specsData=[{type:1,name:"",num:10,image:"",chance:0,total:0,prompt:""},{type:1,name:"",num:0,image:"",chance:0,total:0,prompt:""},{type:1,name:"",num:0,image:"",chance:0,total:0,prompt:""},{type:1,name:"",num:0,image:"",chance:0,total:0,prompt:""},{type:1,name:"",num:0,image:"",chance:0,total:0,prompt:""},{type:1,name:"",num:0,image:"",chance:0,total:0,prompt:""},{type:1,name:"",num:0,image:"",chance:0,total:0,prompt:""},{type:1,name:"",num:0,image:"",chance:0,total:0,prompt:""}]):(t.formValidate=a.data,t.formValidate.user_level=a.data.user_level||[],t.selectDataLabel=a.data.user_label||[],t.formValidate.is_svip=a.data.is_svip,t.content=a.data.is_content?a.data.content:"",t.formValidate.factor=a.data.factor.toString(),t.formValidate.period=[t.formatDate(a.data.start_time)||"",t.formatDate(a.data.end_time)||""],t.specsData=a.data.prize,t.getProbability())})).catch((function(e){})),this.spinShow=!1},next:function(e){var t,a=this;if(this.formValidate.prize=this.specsData,this.formValidate.is_content&&(this.formValidate.content=Object(_utils_editorImg__WEBPACK_IMPORTED_MODULE_37__.a)(this.content)),2==this.formValidate.attends_user&&this.selectDataLabel.length&&(t=[],this.selectDataLabel.forEach((function(e){t.push(e.id)})),this.formValidate.user_label=t),this.submitOpen)return!1;this.$refs[e].validate((function(e){if(!e)return!1;a.submitOpen=!0,a.formValidate.id&&!a.copy?Object(_api_lottery__WEBPACK_IMPORTED_MODULE_31__.b)(a.formValidate.id,a.formValidate).then(function(){var e=Object(_Users_wuhaotian_Code_ZhongBang_kaiyuan_gitee_template_admin_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_16__.a)(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.$message.success(t.msg),a.submitOpen=!1;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){a.submitOpen=!1,a.$message.error(e.msg)})):Object(_api_lottery__WEBPACK_IMPORTED_MODULE_31__.a)(a.formValidate).then(function(){var e=Object(_Users_wuhaotian_Code_ZhongBang_kaiyuan_gitee_template_admin_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_16__.a)(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.submitOpen=!1,a.$message.success(t.msg);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){a.submitOpen=!1,a.$message.error(e.msg)}))}))},step:function(){this.current--},modalPicTap:function(e,t,a){this.modalPic=!0,this.isChoice="dan"===e?"单选":"多选",this.picTit=t||"",this.tableIndex=a},getPic:function(e){"danFrom"===this.picTit?this.formValidate.image=e.att_dir:this.specsData[this.tableIndex].image=e.att_dir,this.modalPic=!1},handleRemove:function(){this.formValidate.image=""},validate:function(e,t,a){return!1!==t||(this.$message.error(a),!1)},addGoods:function(){this.addGoodsModel=!0,this.title="添加商品",this.editData={}},editGoods:function(e){this.addGoodsModel=!0,this.title="添加奖品",this.editData=this.specsData[e],this.editIndex=e},deleteGoods:function(e){this.specsData.splice(e,1)},sumArr:function sumArr(arr,name){for(var arrData=[],i=0;i<arr.length;i++)arrData.push(arr[i][name]);return eval(arrData.join("+"))},addGoodsData:function(e){null!=this.editIndex?this.$set(this.specsData,[this.editIndex],e):this.specsData.length<8?this.specsData.push(e):this.$message.warning("最多添加8个奖品"),this.getProbability(),this.addGoodsModel=!1,this.editIndex=null},changeChance:function(e,t){var a=this;e=e.target.value;this.$set(this.specsData[t],"chance",e),this.$nextTick((function(e){a.getProbability()}))},changeTotal:function(e,t){this.$set(this.specsData[t],"total",e)},getProbability:function(){for(var e=this.sumArr(this.specsData,"chance"),t=0;t<this.specsData.length;t++)0==e?this.$set(this.specsData[t],"probability","0%"):this.$set(this.specsData[t],"probability",(this.specsData[t].chance/e*100).toFixed(2)+"%")},onDragDrop:function(e,t){var a;(a=this.specsData).splice.apply(a,[t,1].concat(Object(_Users_wuhaotian_Code_ZhongBang_kaiyuan_gitee_template_admin_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_15__.a)(this.specsData.splice(e,1,this.specsData[t]))))},setSort:function(){var e=this,t=this.$refs.selection.$el.querySelectorAll(".el-table__body-wrapper > table > tbody")[0];this.sortable=sortablejs__WEBPACK_IMPORTED_MODULE_38__.default.create(t,{ghostClass:"sortable-ghost",handle:".handle",setData:function(e){e.setData("Text","")},onEnd:function(t){e.elChangeExForArray(t.oldIndex,t.newIndex,e.specsData)}})},elChangeExForArray:function(e,t,a,r){var o=this,i=a,n=a[e];a=a[t];r?(i[t]=a,i[e]=n):(i[e]=a,i[t]=n),this.specsData=[],this.$nextTick((function(e){o.specsData=i}))},formatDate:function(e){return e?(e=new Date(1e3*e),Object(_utils_validate__WEBPACK_IMPORTED_MODULE_36__.a)(e,"yyyy-MM-dd hh:mm")):""}}}},"232f":function(e,t,a){"use strict";a("a9e3"),a("d81d"),a("a434");var r=a("c24f"),o={name:"userLabel",props:{uid:{type:String|Number,default:0},only_get:{default:!1},selectDataLabel:{type:Array,default:function(){}}},data:function(){return{labelList:[],activeIds:[],unLaberids:[]}},watch:{uid:{handler:function(e,t){e!=t&&this.getList()},deep:!0}},mounted:function(){this.getList()},methods:{getList:function(){var e=this;Object(r.j)(this.uid||0).then((function(t){e.selectDataLabel&&e.selectDataLabel.length&&e.selectDataLabel.map((function(e){t.data.map((function(t){t.label.map((function(t){t.id===e.id&&(t.disabled=!0)}))}))})),t.data.map((function(t){t.label.map((function(t){t.disabled&&e.activeIds.push(t.id)}))})),e.labelList=t.data}))},selectLabel:function(e){var t;e.disabled?(t=this.activeIds.indexOf(e.id),this.activeIds.splice(t,1),e.disabled=!1):(this.activeIds.push(e.id),e.disabled=!0)},subBtn:function(){var e=this,t=[];this.only_get?(this.labelList.map((function(e){e.label.map((function(e){1==e.disabled&&t.push({id:e.id,label_name:e.label_name})}))})),this.$emit("activeData",t)):(this.labelList.map((function(e){e.label.map((function(e){0==e.disabled&&t.push(e.id)}))})),this.unLaberids=t,Object(r.A)(this.uid,{label_ids:this.activeIds,un_label_ids:this.unLaberids}).then((function(t){e.$emit("onceGetList"),e.activeIds=[],e.unLaberids=[],e.$message.success(t.msg),e.$emit("close")})).catch((function(t){e.$message.error(t.msg)})))},cancel:function(){this.activeIds=[],this.unLaberids=[],this.$emit("close")}}};a("29ab"),a=a("2877"),a=Object(a.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"label-wrapper"},[e.labelList[0]?e._l(e.labelList,(function(t,r){return a("div",{key:r,staticClass:"label-box"},[a("div",{staticClass:"title"},[e._v(e._s(t.name))]),a("div",{staticClass:"list"},e._l(t.label,(function(t,r){return a("div",{key:r,staticClass:"label-item",class:{on:t.disabled},on:{click:function(a){return e.selectLabel(t)}}},[e._v("\n        "+e._s(t.label_name)+"\n      ")])})),0)])})):a("div",{staticClass:"nonefont"},[e._v("暂无标签")]),a("div",{staticClass:"acea-row row-right mt20"},[a("el-button",{on:{click:e.cancel}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.subBtn}},[e._v("确 定")])],1)],2)}),[],!1,null,"34379f5b",null);t.a=a.exports},"29ab":function(e,t,a){"use strict";var r=a("b163");a.n(r).a},"2c3e":function(e,t,a){var r=a("da84"),o=a("83ab"),i=a("9f7f").MISSED_STICKY,n=a("c6b6"),_=a("edd0"),s=a("69f3").get,l=RegExp.prototype,c=r.TypeError;o&&i&&_(l,"sticky",{configurable:!0,get:function(){if(this!==l){if("RegExp"===n(this))return!!s(this).sticky;throw c("Incompatible receiver, RegExp required")}}})},3350:function(e,t,a){},"4d63":function(e,t,a){var r=a("83ab"),o=a("da84"),i=a("e330"),n=a("94ca"),_=a("7156"),s=a("9112"),l=a("241c").f,c=a("3a9b"),u=a("44e7"),d=a("577e"),m=a("90d8"),p=a("9f7f"),f=a("aeb0"),h=a("cb2d"),b=a("d039"),g=a("1a2d"),v=a("69f3").enforce,E=a("2626"),y=a("b622"),w=a("fce3"),D=a("107c"),O=y("match"),P=o.RegExp,M=P.prototype,C=o.SyntaxError,j=i(M.exec),V=i("".charAt),L=i("".replace),k=i("".indexOf),x=i("".slice),A=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,T=/a/g,I=/a/g,U=(a=new P(T)!==T,p.MISSED_STICKY),R=p.UNSUPPORTED_Y;y=r&&(!a||U||w||D||b((function(){return I[O]=!1,P(T)!=T||P(I)==I||"/a/i"!=P(T,"i")})));if(n("RegExp",y)){function W(e,t){var a,r,o=c(M,this),i=u(e),n=void 0===t,l=[],p=e;if(!o&&i&&n&&e.constructor===W)return e;if((i||c(M,e))&&(e=e.source,n&&(t=m(p))),e=void 0===e?"":d(e),t=void 0===t?"":d(t),p=e,i=t=w&&"dotAll"in T&&(a=!!t&&-1<k(t,"s"))?L(t,/s/g,""):t,U&&"sticky"in T&&(r=!!t&&-1<k(t,"y"))&&R&&(t=L(t,/y/g,"")),D&&(e=(n=function(e){for(var t,a=e.length,r=0,o="",i=[],n={},_=!1,s=!1,l=0,c="";r<=a;r++){if("\\"===(t=V(e,r)))t+=V(e,++r);else if("]"===t)_=!1;else if(!_)switch(!0){case"["===t:_=!0;break;case"("===t:j(A,x(e,r+1))&&(r+=2,s=!0),o+=t,l++;continue;case">"===t&&s:if(""===c||g(n,c))throw new C("Invalid capture group name");n[c]=!0,s=!(i[i.length]=[c,l]),c="";continue}s?c+=t:o+=t}return[o,i]}(e))[0],l=n[1]),n=_(P(e,t),o?this:M,W),(a||r||l.length)&&(t=v(n),a&&(t.dotAll=!0,t.raw=W(function(e){for(var t,a=e.length,r=0,o="",i=!1;r<=a;r++)"\\"===(t=V(e,r))?o+=t+V(e,++r):i||"."!==t?("["===t?i=!0:"]"===t&&(i=!1),o+=t):o+="[\\s\\S]";return o}(e),i)),r&&(t.sticky=!0),l.length&&(t.groups=l)),e!==p)try{s(n,"source",""===p?"(?:)":p)}catch(e){}return n}for(var K=l(P),S=0;K.length>S;)f(W,P,K[S++]);(M.constructor=W).prototype=M,h(o,"RegExp",W,{constructor:!0})}E("RegExp")},"5db7":function(e,t,a){"use strict";var r=a("3350");a.n(r).a},"61f7":function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return l}));var r=a("fc11"),o=a("f3f3");function i(e,t){/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));var a,r,o={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};for(a in o)new RegExp("(".concat(a,")")).test(t)&&(r=o[a]+"",t=t.replace(RegExp.$1,1===RegExp.$1.length?r:("00"+r).substr(r.length)));return t}a("ac1f"),a("00b4"),a("5319"),a("4d63"),a("c607"),a("2c3e"),a("25f0"),a("498a"),a("d3b7"),a("b64b"),a("99af");var n={min:"%s最小长度为:min",max:"%s最大长度为:max",length:"%s长度必须为:length",range:"%s长度为:range",pattern:"$s格式错误"};function _(e,t){e.message=function(e){return t.replace("%s",e||"")}}function s(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return Object(o.a)({required:!0,message:e,type:"string"},t)}function l(e){return c.pattern(/(^[1-9]([0-9]+)?(\.[0-9]{1,2})?$)|(^(0){1}$)|(^[0-9]\.[0-9]([0-9])?$)/,e)}_(s,"请输入%s"),_(l,"%s格式不正确");var c=Object.keys(n).reduce((function(e,t){return e[t]=function(e){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n="range"===t?{min:e[0],max:e[1]}:Object(r.a)({},t,e);return Object(o.a)(Object(o.a)({message:a.replace(":".concat(t),"range"===t?"".concat(e[0],"-").concat(e[1]):e),type:"string"},n),i)},_(e[t],n[t]),e}),{})},"792d":function(e,t,a){},"80cc":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAeCAYAAAAhDE4sAAAAAXNSR0IArs4c6QAAAH9JREFUSEtjZGBgYNh/+HQDIyNjPIj9////hY62pg0gNi6ATT0jVLAeWdP///8bcRmGSz3jgSNn7jMwMCig2f7AwcZEEZuLcKmnnkFU8xrVAhtf7JAix0iKYnxqRw0iHJLgMBrNa+CAwplpR/MawYQ0mtcIBhHDaF5DhNHQyWsAiKzwBxioCkgAAAAASUVORK5CYII="},b0c06:function(e,t){e.exports="data:image/png;base64,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"},b163:function(e,t,a){},b6802:function(e,t,a){"use strict";function r(e,t,a){return 0===t?a:t%2==1?r(e,t-1,a*e):r(e*e,t/2,a)}function o(e,t,a){for(var r=-1,o=a;++r<6;)o+=t*e[r],e[r]=o%1e7,o=f(o/1e7)}function i(e,t){for(var a=6,r=0;0<=--a;)r+=e[a],e[a]=f(r/t),r=r%t*1e7}function n(e){for(var t,a=6,r="";0<=--a;)""===r&&0!==a&&0===e[a]||(t=p(e[a]),r=""===r?t:r+h("0",7-t.length)+t);return r}var _=a("23e7"),s=a("da84"),l=a("e330"),c=a("5926"),u=a("408a"),d=a("1148"),m=(a=a("d039"),s.RangeError),p=s.String,f=Math.floor,h=l(d),b=l("".slice),g=l(1..toFixed);_({target:"Number",proto:!0,forced:a((function(){return"0.000"!==g(8e-5,3)||"1"!==g(.9,0)||"1.25"!==g(1.255,2)||"1000000000000000128"!==g(0xde0b6b3a7640080,0)}))||!a((function(){g({})}))},{toFixed:function(e){var t,a,_=u(this),s=(e=c(e),[0,0,0,0,0,0]),l="",d="0";if(e<0||20<e)throw m("Incorrect fraction digits");if(_!=_)return"NaN";if(_<=-1e21||1e21<=_)return p(_);if(_<0&&(l="-",_=-_),1e-21<_)if(_=(t=function(e){for(var t=0,a=e;4096<=a;)t+=12,a/=4096;for(;2<=a;)t+=1,a/=2;return t}(_*r(2,69,1))-69)<0?_*r(2,-t,1):_/r(2,t,1),_*=4503599627370496,0<(t=52-t)){for(o(s,0,_),a=e;7<=a;)o(s,1e7,0),a-=7;for(o(s,r(10,a,1),0),a=t-1;23<=a;)i(s,1<<23),a-=23;i(s,1<<a),o(s,1,1),i(s,2),d=n(s)}else o(s,0,_),o(s,1<<-t,0),d=n(s)+h("0",e);return 0<e?l+((_=d.length)<=e?"0."+h("0",e-_)+d:b(d,0,_-e)+"."+b(d,_-e)):l+d}})},c607:function(e,t,a){var r=a("da84"),o=a("83ab"),i=a("fce3"),n=a("c6b6"),_=a("edd0"),s=a("69f3").get,l=RegExp.prototype,c=r.TypeError;o&&i&&_(l,"dotAll",{configurable:!0,get:function(){if(this!==l){if("RegExp"===n(this))return!!s(this).dotAll;throw c("Incompatible receiver, RegExp required")}}})},d1cc:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a("d81d");var r={name:[{required:!0,message:"请输入活动名称",trigger:"blur"}],factor:[{required:!0,type:"number",message:"请选择活动类型",trigger:"change"}],attends_user:[{required:!0,type:"number",message:"请选择参与用户",trigger:"change"}],factor_num:[{required:!0,type:"number",message:"请输入抽奖次数",trigger:"blur"}],prize:[{required:!0,type:"array",message:"请添加抽奖奖品(8条)",trigger:"change"},{type:"array",min:8,message:"请添加抽奖奖品(8条)",trigger:"change"}],lottery_num:[{required:!0,type:"number",message:"请输入邀请新用户最多可获得抽奖多少次",trigger:"blur"}],spread_num:[{required:!0,type:"number",message:"请输入关注额外抽多少次",trigger:"blur"}],image:[{required:!0,message:"请上传活动背景图",trigger:"change"}],content:[{required:!0,message:"请填写活动规则",trigger:"blur"}]}},e449:function(e,t,a){"use strict";a("4ec9"),a("d3b7"),a("3ca3"),a("ddb0"),a("4de4"),a("caad"),a("159b");var r=a("b7be"),o=a("61f7"),i={name:"index",filters:{formatDate:function(e){if(0!==e)return e=new Date(1e3*e),Object(o.a)(e,"yyyy-MM-dd hh:mm")}},props:{couponids:{type:Array},updateIds:{type:Array},updateName:{type:Array},luckDraw:{type:Boolean,default:!1}},data:function(){return{templateRadio:0,currentid:0,productRow:{},isTemplate:!1,loading:!1,tableFrom:{receive_type:3,page:1,limit:5},total:0,ids:[],texts:[],couponList:[],selectedIds:[],selectedNames:[],multipleSelection:[]}},mounted:function(){},watch:{updateIds:function(e){this.selectedIds=e},updateName:function(e){this.selectedNames=e,this.multipleSelection=e}},created:function(){},methods:{getRowKey:function(e){return e.id},getTemplateRow:function(e){this.currentid=e.id,this.productRow=e},unique:function(e){var t=new Map;return e.filter((function(e){return!t.has(e.id)&&t.set(e.id,1)}))},changeCheckbox:function(e){for(var t=[],a=[],r=[],o=this.unique(e),i=0;i<o.length;i++){var n,_=o[i];r.includes(_.id)||(n={id:_.id,title:_.title},a.push(n),r.push(_.id),t.push(_))}this.selectedIds=r,this.selectedNames=a,this.multipleSelection=t},cancel:function(){this.isTemplate=!1,this.luckDraw&&(this.currentid=0)},tableList:function(){var e=this;this.loading=!0,Object(r.gb)(this.tableFrom).then((function(t){t=t.data,e.couponList=t.list,e.total=t.count,e.$nextTick((function(){e.showSelectData()})),e.loading=!1}))},ok:function(){this.luckDraw?(this.$emit("getCouponId",this.productRow),this.currentid=0):this.$emit("nameId",this.selectedIds,this.selectedNames),this.isTemplate=!1},pageChange:function(e){this.tableFrom.page=e,this.tableList()},limitChange:function(e){this.tableFrom.limit=e,this.tableList()},showSelectData:function(){var e=this;0<this.multipleSelection.length&&this.couponList.forEach((function(t){e.multipleSelection.forEach((function(e){t.id,e.id}))}))}}};a=a("2877"),a=Object(a.a)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{visible:e.isTemplate,title:"优惠券列表","append-to-body":"",width:"1000px"},on:{"update:visible":function(t){e.isTemplate=t}}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",staticClass:"mt20",attrs:{data:e.couponList,"highlight-current-row":"","row-key":e.getRowKey,"no-userFrom-text":"暂无数据","no-filtered-userFrom-text":"暂无筛选结果"},on:{"selection-change":e.changeCheckbox}},[e.luckDraw?a("el-table-column",{attrs:{width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-radio",{attrs:{label:t.row.id},nativeOn:{change:function(a){return e.getTemplateRow(t.row)}},model:{value:e.templateRadio,callback:function(t){e.templateRadio=t},expression:"templateRadio"}},[e._v(" ")])]}}])}):a("el-table-column",{attrs:{type:"selection",width:"55","reserve-selection":!0}}),a("el-table-column",{attrs:{label:"ID",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.id))])]}}])}),a("el-table-column",{attrs:{label:"优惠券名称","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.title))])]}}])}),a("el-table-column",{attrs:{label:"优惠券类型","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.type?a("span",[e._v("品类券")]):2===t.row.type?a("span",[e._v("商品券")]):3===t.row.type?a("span",[e._v("会员券")]):a("span",[e._v("通用券")])]}}])}),a("el-table-column",{attrs:{label:"面值","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.coupon_price))])]}}])}),a("el-table-column",{attrs:{label:"最低消费额","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.use_min_price))])]}}])}),a("el-table-column",{attrs:{label:"发布数量","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.is_permanent?a("span",[e._v("不限量")]):a("div",[a("span",{staticClass:"fa"},[e._v("发布："+e._s(t.row.total_count))]),a("span",{staticClass:"sheng"},[e._v("剩余："+e._s(t.row.remain_count))])])]}}])}),a("el-table-column",{attrs:{label:"有效期限","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.start_time?a("div",[e._v("\n            "+e._s(e._f("formatDate")(t.row.start_time))+" - "+e._s(e._f("formatDate")(t.row.end_time))+"\n          ")]):a("span",[e._v("不限时")])]}}])}),a("el-table-column",{attrs:{label:"状态","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{directives:[{name:"show",rawName:"v-show",value:1===t.row.status,expression:"scope.row.status === 1"}],attrs:{size:"medium"}},[e._v("正常")]),a("el-tag",{directives:[{name:"show",rawName:"v-show",value:0===t.row.status,expression:"scope.row.status === 0"}],attrs:{size:"medium",type:"danger"}},[e._v("未开启")]),a("el-tag",{directives:[{name:"show",rawName:"v-show",value:-1===t.row.status,expression:"scope.row.status === -1"}],attrs:{size:"medium",type:"info"}},[e._v("已失效")])]}}])})],1),a("div",{staticClass:"acea-row row-right page"},[e.total?a("pagination",{attrs:{total:e.total,page:e.tableFrom.page,limit:e.tableFrom.limit},on:{"update:page":function(t){return e.$set(e.tableFrom,"page",t)},"update:limit":function(t){return e.$set(e.tableFrom,"limit",t)},pagination:e.tableList}}):e._e()],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.ok}},[e._v("确 定")])],1)],1)],1)}),[],!1,null,"697baae0",null);t.a=a.exports},e90a:function(e,t,a){"use strict";a.r(t);var r=a("1499").a,o=(a("5db7"),a("2877"));o=Object(o.a)(r,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-card",{staticClass:"ivu-mt",attrs:{bordered:!1,shadow:"never","body-style":{padding:"0 20px 20px"}}},[r("div",[r("el-tabs",{on:{"tab-click":e.onClickTab},model:{value:e.formValidate.factor,callback:function(t){e.$set(e.formValidate,"factor",t)},expression:"formValidate.factor"}},e._l(e.tabs,(function(e,t){return r("el-tab-pane",{key:t,attrs:{label:e.name,name:e.type}})})),1)],1),r("el-row",{staticClass:"mt10 acea-row row-middle row-center"},[r("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.spinShow,expression:"spinShow"}],attrs:{span:23}},[r("el-form",{ref:"formValidate",staticClass:"form",attrs:{rules:e.ruleValidate,model:e.formValidate,"label-width":e.labelWidth,"label-position":e.labelPosition},on:{"on-validate":e.validate},nativeOn:{submit:function(e){e.preventDefault()}}},[r("el-row",[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"活动名称：",prop:"name","label-for":"name"}},[r("el-input",{staticClass:"content_width",attrs:{placeholder:"请输入活动名称"},model:{value:e.formValidate.name,callback:function(t){e.$set(e.formValidate,"name",t)},expression:"formValidate.name"}})],1)],1),r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"活动时间："}},[r("div",{staticClass:"acea-row row-middle"},[r("el-date-picker",{staticStyle:{width:"460px"},attrs:{clearable:"",editable:!1,type:"datetimerange",format:"yyyy-MM-dd HH:mm","value-format":"yyyy-MM-dd HH:mm","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.onchangeTime},model:{value:e.formValidate.period,callback:function(t){e.$set(e.formValidate,"period",t)},expression:"formValidate.period"}})],1)])],1),r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"参与用户：",prop:"attends_user","label-for":"attends_user"}},[r("el-radio-group",{attrs:{"element-id":"attends_user"},on:{input:e.changeUsers},model:{value:e.formValidate.attends_user,callback:function(t){e.$set(e.formValidate,"attends_user",t)},expression:"formValidate.attends_user"}},[r("el-radio",{staticClass:"radio",attrs:{label:1}},[e._v("全部用户")]),r("el-radio",{attrs:{label:2}},[e._v("部分用户")])],1)],1)],1),2==e.formValidate.attends_user?r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"",prop:2==e.formValidate.attends_user?"user_level":""}},[r("div",{staticClass:"acea-row row-middle"},[r("el-select",{staticClass:"content_width",attrs:{multiple:"",placeholder:"请选择用户等级"},model:{value:e.formValidate.user_level,callback:function(t){e.$set(e.formValidate,"user_level",t)},expression:"formValidate.user_level"}},e._l(e.userLevelListApi,(function(e){return r("el-option",{key:e.id,attrs:{value:e.id,label:e.name}})})),1)],1)])],1):e._e(),2==e.formValidate.attends_user?r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"",prop:2==e.formValidate.attends_user?"is_svip":""}},[r("div",{staticClass:"acea-row row-middle"},[r("el-select",{staticClass:"content_width",attrs:{clearable:"",placeholder:"请选择是否是付费会员"},model:{value:e.formValidate.is_svip,callback:function(t){e.$set(e.formValidate,"is_svip",t)},expression:"formValidate.is_svip"}},e._l(e.templateList,(function(e){return r("el-option",{key:e.id,attrs:{value:e.id,label:e.name}})})),1)],1)])],1):e._e(),2==e.formValidate.attends_user?r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"",prop:2==e.formValidate.attends_user?"user_label":""}},[r("div",{staticClass:"acea-row row-middle"},[r("div",{staticClass:"labelInput acea-row row-between-wrapper",on:{click:function(t){e.selectLabelShow=!0}}},[r("div",{},[e.selectDataLabel.length?r("div",e._l(e.selectDataLabel,(function(t,a){return r("el-tag",{key:a,staticClass:"mr10",attrs:{closable:!1},on:{close:function(a){return e.closeLabel(t)}}},[e._v(e._s(t.label_name))])})),1):r("span",{staticClass:"span"},[e._v("选择用户标签")])]),r("div",{staticClass:"ivu-icon ivu-icon-ios-arrow-down"})])]),r("div",{staticClass:"ml100 grey"},[e._v("三个条件都设置后,必须这些条件都满足的用户才能参加抽奖")])])],1):e._e(),5==e.formValidate.factor?r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"抽奖次数：",prop:5==e.formValidate.factor?"lottery_num_term":"","label-for":"status"}},[r("el-radio-group",{attrs:{"element-id":"lottery_num_term"},model:{value:e.formValidate.lottery_num_term,callback:function(t){e.$set(e.formValidate,"lottery_num_term",t)},expression:"formValidate.lottery_num_term"}},[r("el-radio",{staticClass:"radio",attrs:{label:1}},[e._v("每天N次")]),r("el-radio",{attrs:{label:2}},[e._v("每人N次")])],1)],1)],1):e._e(),5==e.formValidate.factor?r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"邀请新用户最多可获得抽奖",prop:5==e.formValidate.factor?"lottery_num":"","label-for":"lottery_num"}},[r("div",{staticClass:"acea-row row-middle"},[r("div",{staticClass:"mr10 grey"}),r("el-input-number",{staticClass:"content_width",attrs:{controls:!1,placeholder:"","element-id":"lottery_num",min:1,precision:0},model:{value:e.formValidate.lottery_num,callback:function(t){e.$set(e.formValidate,"lottery_num",t)},expression:"formValidate.lottery_num"}}),r("div",{staticClass:"ml10 grey"},[e._v("次")])],1)])],1):e._e(),5==e.formValidate.factor?r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"邀请一位新用户关注公众号可获得抽奖",prop:5==e.formValidate.factor?"spread_num":"","label-for":"spread_num"}},[r("div",{staticClass:"acea-row row-middle"},[r("div",{staticClass:"mr10 grey"}),r("el-input-number",{staticClass:"content_width",attrs:{controls:!1,placeholder:"","element-id":"spread_num",min:1,precision:0},model:{value:e.formValidate.spread_num,callback:function(t){e.$set(e.formValidate,"spread_num",t)},expression:"formValidate.spread_num"}}),r("div",{staticClass:"ml10 grey"},[e._v("次")])],1)])],1):e._e(),1==e.formValidate.factor||3==e.formValidate.factor||4==e.formValidate.factor?r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:1==e.formValidate.factor?"抽奖消耗积分：":"抽奖次数：",prop:1==e.formValidate.factor||3==e.formValidate.factor||4==e.formValidate.factor?"factor_num":"","label-for":"factor_num"}},[r("div",{staticClass:"acea-row row-middle"},[r("div",{staticClass:"mr10 grey"}),r("el-input-number",{staticClass:"content_width",attrs:{controls:!1,placeholder:"","element-id":"factor_num",min:1,precision:0},model:{value:e.formValidate.factor_num,callback:function(t){e.$set(e.formValidate,"factor_num",t)},expression:"formValidate.factor_num"}}),1!==e.formValidate.factor?r("div",{staticClass:"ml10 grey"},[e._v("次")]):e._e()],1)])],1):e._e()],1),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"规格选择：",prop:"prize"}},[r("el-table",{ref:"selection",attrs:{data:e.specsData}},[r("el-table-column",{attrs:{label:"","min-width":"40"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{staticClass:"drag",on:{"on-drag-drop":e.onDragDrop}},[r("img",{staticClass:"handle",attrs:{src:a("80cc"),alt:""}})])]}}])}),r("el-table-column",{attrs:{label:"序号",type:"index",width:"50"}}),r("el-table-column",{attrs:{label:"图片","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{staticClass:"acea-row scope.row-middle scope.row-center-wrapper",on:{click:function(t){return e.modalPicTap("dan","goods",e.index)}}},[t.row.image?r("div",{staticClass:"pictrue pictrueTab"},[r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.row.image,expression:"scope.row.image"}]})]):r("div",{staticClass:"upLoad pictrueTab acea-row row-center-wrapper"},[r("i",{staticClass:"el-icon-picture-outline",staticStyle:{"font-size":"24px"}})])])]}}])}),r("el-table-column",{attrs:{label:"名称","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",[e._v(e._s(t.row.name))])]}}])}),r("el-table-column",{attrs:{label:"奖品","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",[e._v(e._s(e._f("typeName")(t.row.type)))])]}}])}),r("el-table-column",{attrs:{label:"提示语","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",[e._v(e._s(t.row.prompt))])]}}])}),r("el-table-column",{attrs:{label:"数量","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-input-number",{staticClass:"priceBox",attrs:{controls:!1,max:9999999999,min:0,precision:0},model:{value:t.row.total,callback:function(a){e.$set(t.row,"total",a)},expression:"scope.row.total"}})]}}])}),r("el-table-column",{attrs:{label:"奖品权重","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-input-number",{staticClass:"priceBox",attrs:{controls:!1,max:100,min:0,precision:0},on:{blur:function(a){return e.changeChance(a,t.$index)}},model:{value:t.row.chance,callback:function(a){e.$set(t.row,"chance",a)},expression:"scope.row.chance"}})]}}])}),r("el-table-column",{attrs:{label:"奖品概率","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",[e._v(e._s(t.row.probability))])]}}])}),r("el-table-column",{attrs:{label:"操作",fixed:"right",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("a",{staticClass:"submission mr15",on:{click:function(a){return e.editGoods(t.$index)}}},[e._v("编辑")])]}}])})],1),e.specsData.length<8?r("el-button",{staticClass:"submission mr15 mt20",attrs:{type:"primary"},on:{click:e.addGoods}},[e._v("添加商品")]):e._e()],1),r("el-form-item",[r("div",{staticClass:"pl60 grey"},[e._v("\n                  奖品必须设置为8个，列表中拖拽可调整奖品在九宫中的位置\n                  "),r("el-tooltip",{attrs:{effect:"light",placement:"bottom",width:"380"}},[r("a",[e._v("查看位置示例图")]),r("div",{staticClass:"api",attrs:{slot:"content"},slot:"content"},[r("img",{attrs:{src:a("b0c06"),alt:""}})])])],1)])],1)],1),r("div",[3!=e.formValidate.factor&&4!=e.formValidate.factor?r("el-form-item",{attrs:{prop:3!=e.formValidate.factor&&4!=e.formValidate.factor?"image":""}},[r("div",{staticClass:"custom-label",attrs:{slot:"label"},slot:"label"},[r("div",[r("div",[e._v("活动背景图")]),r("div",[e._v("(750*750)")])]),r("div",[e._v("：")])]),r("div",{staticClass:"acea-row"},[e.formValidate.image?r("div",{staticClass:"pictrue"},[r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.formValidate.image,expression:"formValidate.image"}]}),r("i",{staticClass:"el-icon-circle-close btndel",on:{click:function(t){return e.handleRemove()}}})]):r("div",{staticClass:"upLoad acea-row row-center-wrapper",on:{click:function(t){return e.modalPicTap("dan","danFrom")}}},[r("i",{staticClass:"el-icon-picture-outline",staticStyle:{"font-size":"24px"}})])])]):e._e(),3!=e.formValidate.factor&&4!=e.formValidate.factor?r("el-form-item",{attrs:{label:"中奖名单：",prop:3!=e.formValidate.factor&&4!=e.formValidate.factor?"is_all_record":"","label-for":"is_all_record"}},[r("el-switch",{staticClass:"defineSwitch",attrs:{"active-value":1,"inactive-value":0,size:"large","active-text":"开启","inactive-text":"关闭"},model:{value:e.formValidate.is_all_record,callback:function(t){e.$set(e.formValidate,"is_all_record",t)},expression:"formValidate.is_all_record"}})],1):e._e(),3!=e.formValidate.factor&&4!=e.formValidate.factor?r("el-form-item",{attrs:{label:"个人中奖记录：",prop:3!=e.formValidate.factor&&4!=e.formValidate.factor?"is_personal_record":"","label-for":"is_personal_record"}},[r("el-switch",{staticClass:"defineSwitch",attrs:{"active-value":1,"inactive-value":0,size:"large","active-text":"开启","inactive-text":"关闭"},model:{value:e.formValidate.is_personal_record,callback:function(t){e.$set(e.formValidate,"is_personal_record",t)},expression:"formValidate.is_personal_record"}})],1):e._e(),3!=e.formValidate.factor&&4!=e.formValidate.factor?r("el-form-item",{attrs:{label:"活动规则：",prop:"is_content","label-for":"is_content"}},[r("el-switch",{staticClass:"defineSwitch",attrs:{"active-value":1,"inactive-value":0,size:"large","active-text":"开启","inactive-text":"关闭"},model:{value:e.formValidate.is_content,callback:function(t){e.$set(e.formValidate,"is_content",t)},expression:"formValidate.is_content"}})],1):e._e(),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:3!=e.formValidate.factor&&4!=e.formValidate.factor&&1==e.formValidate.is_content,expression:"formValidate.factor != 3 && formValidate.factor != 4 && formValidate.is_content == 1"}],attrs:{label:"",prop:3!=e.formValidate.factor&&4!=e.formValidate.factor&&1==e.formValidate.is_content?"content":""}},[r("WangEditor",{staticStyle:{width:"90%"},attrs:{content:e.formValidate.content},on:{editorContent:e.getEditorContent}})],1),r("el-form-item",{attrs:{label:"活动状态：",prop:"status","label-for":"status"}},[r("el-switch",{staticClass:"defineSwitch",attrs:{"active-value":1,"inactive-value":0,size:"large","active-text":"开启","inactive-text":"关闭"},model:{value:e.formValidate.status,callback:function(t){e.$set(e.formValidate,"status",t)},expression:"formValidate.status"}})],1)],1),r("el-form-item",[r("el-button",{attrs:{type:"primary",loading:e.submitOpen},on:{click:function(t){return e.next("formValidate")}}},[e._v("提交")])],1)],1)],1)],1)],1),r("el-dialog",{attrs:{visible:e.modalPic,width:"950px",title:"上传商品图","close-on-click-modal":!1},on:{"update:visible":function(t){e.modalPic=t}}},[e.modalPic?r("uploadPictures",{attrs:{isChoice:e.isChoice},on:{getPic:e.getPic}}):e._e()],1),r("el-dialog",{attrs:{visible:e.addGoodsModel,width:"720px",title:e.title,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addGoodsModel=t}}},[e.addGoodsModel?r("addGoods",{attrs:{editData:e.editData},on:{addGoodsData:e.addGoodsData}}):e._e()],1),r("el-dialog",{attrs:{visible:e.selectLabelShow,scrollable:"",title:"请选择用户标签",closable:!1,width:"540px","footer-hide":!0,"mask-closable":!1},on:{"update:visible":function(t){e.selectLabelShow=t}}},[e.selectLabelShow?r("userLabel",{ref:"userLabel",attrs:{uid:0,only_get:!0,selectDataLabel:e.selectDataLabel},on:{activeData:e.activeSelectData,close:e.labelClose}}):e._e()],1)],1)}),[],!1,null,"2bd7abff",null);t.default=o.exports},eab1:function(e,t,a){"use strict";a("b64b"),a("d3b7"),a("159b"),a("a434"),a("4ec9"),a("3ca3"),a("ddb0"),a("4de4");var r=a("e449"),o=a("b0e7"),i=a("c4ad"),n=a("5334");o={components:{uploadPictures:o.a,goodsList:i.default,freightTemplate:n.a,couponList:r.a},data:function(){return{modalPic:!1,modals:!1,isChoice:"单选",updateIds:[],updateName:[],goodsData:{pic:"",product_id:"",img:"",coverImg:""},formValidate:{type:5,name:"",num:0,image:"",chance:1,product_id:0,coupon_id:0,total:0,prompt:"",goods_image:"",coupon_title:""},ruleValidate:{name:[{required:!0,message:"商品名称",trigger:"blur"}],goods_image:[{required:!0,message:"请添加商品",trigger:"blur"}],num:[{required:!0,type:"number",message:"请输入金额数量",trigger:"blur"}],chance:[{required:!0,type:"number",message:"请输入商品权重",trigger:"blur"}],image:[{required:!0,message:"请选择奖品图片",trigger:"blur"}],prompt:[{required:!0,message:"请输入提示语",trigger:"blur"}]},couponName:[]}},props:{editData:{type:Object,default:function(){}}},watch:{editData:function(e){}},mounted:function(){var e=this;Object.keys(this.editData).forEach((function(t){e.formValidate[t]=e.editData[t],"coupon_title"===t&&e.editData[t]&&e.couponName.push({title:e.editData[t],id:e.editData.coupon_id})}))},methods:{changeGoods:function(){this.modals=!0,this.$refs.goodslist.getList(),this.$refs.goodslist.goodsCategory()},getCouponId:function(e){this.formValidate.coupon_id=e.id,this.formValidate.coupon_title=e.coupon_title;var t=[];t.push(e),this.couponName=t},handleSubmit:function(e){var t=this;this.$refs[e].validate((function(e){e?(t.$emit("addGoodsData",t.formValidate),t.$message.success("添加成功")):t.$message.warning("请完善数据")}))},getPic:function(e){this.formValidate.image=e.att_dir,this.modalPic=!1},modalPicTap:function(){this.modalPic=!0},cancel:function(){this.modals=!1},getProductId:function(e){this.formValidate.product_id=e.id,this.formValidate.goods_image=e.image,this.modals=!1},removeGoods:function(){this.formValidate.product_id="",this.formValidate.goods_image=""},remove:function(){this.formValidate.image=""},addCoupon:function(){this.$refs.couponTemplates.isTemplate=!0,this.$refs.couponTemplates.tableList()},handleClose:function(e){this.couponName.splice(0,1),this.formValidate.coupon_id=0},unique:function(e){var t=new Map;return e.filter((function(e){return!t.has(e.id)&&t.set(e.id,1)}))}}},a("0ca9"),i=a("2877"),n=Object(i.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"formValidate",attrs:{model:e.formValidate,rules:e.ruleValidate,"label-width":"90px"}},[a("el-form-item",{attrs:{label:"奖品：",prop:"type"}},[a("el-radio-group",{model:{value:e.formValidate.type,callback:function(t){e.$set(e.formValidate,"type",t)},expression:"formValidate.type"}},[a("el-radio",{attrs:{label:1}},[e._v("未中奖")]),a("el-radio",{attrs:{label:5}},[e._v("优惠券")]),a("el-radio",{attrs:{label:2}},[e._v("积分")]),a("el-radio",{attrs:{label:6}},[e._v("商品")]),a("el-radio",{attrs:{label:4}},[e._v("红包")]),a("el-radio",{attrs:{label:3}},[e._v("余额")])],1)],1),5==e.formValidate.type?a("el-form-item",{attrs:{label:"赠送优惠券："}},[e.couponName.length?a("div",{staticClass:"mb20"},e._l(e.couponName,(function(t,r){return a("el-tag",{key:r,attrs:{closable:""},on:{close:function(a){return e.handleClose(t)}}},[e._v(e._s(t.title))])})),1):e._e(),e.couponName.length?e._e():a("el-button",{attrs:{type:"primary"},on:{click:e.addCoupon}},[e._v("添加优惠券")])],1):e._e(),[2,3,4].includes(e.formValidate.type)?a("el-form-item",{attrs:{label:[3,4].includes(e.formValidate.type)?"金额信息":"积分数量",prop:"num"}},[a("el-input-number",{staticStyle:{width:"300px"},attrs:{controls:!1,placeholder:"请输入金额数量",max:9999999999,min:1},model:{value:e.formValidate.num,callback:function(t){e.$set(e.formValidate,"num",t)},expression:"formValidate.num"}}),a("div",{staticClass:"ml100 grey"},[e._v("\n        "+e._s(3==e.formValidate.type?"用户领取余额后会自动到账余额账户":4==e.formValidate.type?"用户领取红包后会自动到账微信零钱，添加此奖品需开通微信支付,并且账户中金额不能小于1元":"")+"\n      ")])],1):e._e(),6==e.formValidate.type?a("el-form-item",{attrs:{label:"商品：",prop:"goods_image"}},[e.formValidate.goods_image?[a("div",{staticClass:"upload-list"},[a("img",{attrs:{src:e.formValidate.goods_image}}),a("i",{staticClass:"el-icon-error",staticStyle:{"font-size":"16px"},on:{click:function(t){return e.removeGoods()}}})])]:a("div",{staticClass:"upLoad pictrueTab acea-row row-center-wrapper",on:{click:e.changeGoods}},[a("i",{staticClass:"el-icon-picture-outline",staticStyle:{"font-size":"24px"}})])],2):e._e(),a("el-form-item",{attrs:{label:"奖品名称：",prop:"name"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{maxlength:10,placeholder:"请输入奖品名称"},model:{value:e.formValidate.name,callback:function(t){e.$set(e.formValidate,"name",t)},expression:"formValidate.name"}})],1),a("el-form-item",{attrs:{label:"奖品图片：",prop:"image"}},[e.formValidate.image?[a("div",{staticClass:"upload-list"},[a("img",{attrs:{src:e.formValidate.image}}),a("i",{staticClass:"el-icon-error",staticStyle:{"font-size":"16px"},on:{click:function(t){return e.remove()}}})])]:a("div",{staticClass:"upLoad pictrueTab acea-row row-center-wrapper"},[a("i",{staticClass:"el-icon-picture-outline",staticStyle:{"font-size":"24px"},on:{click:function(t){e.modalPic=!0}}})])],2),a("el-form-item",{attrs:{label:"奖品数量：",prop:"total"}},[a("el-input-number",{staticStyle:{width:"300px"},attrs:{controls:!1,placeholder:"请输入奖品数量",max:9999999999,min:0,precision:0},model:{value:e.formValidate.total,callback:function(t){e.$set(e.formValidate,"total",t)},expression:"formValidate.total"}})],1),a("el-form-item",{attrs:{label:"奖品权重：",prop:"chance"}},[a("el-input-number",{staticStyle:{width:"300px"},attrs:{controls:!1,placeholder:"请输入奖品权重",max:100,min:1,precision:0},model:{value:e.formValidate.chance,callback:function(t){e.$set(e.formValidate,"chance",t)},expression:"formValidate.chance"}})],1),a("el-form-item",{attrs:{label:"提示语：",prop:"prompt"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{maxlength:15,placeholder:"请输入提示语"},model:{value:e.formValidate.prompt,callback:function(t){e.$set(e.formValidate,"prompt",t)},expression:"formValidate.prompt"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit("formValidate")}}},[e._v("提交")])],1)],1),a("el-dialog",{attrs:{visible:e.modalPic,modal:!1,width:"1024px",title:"上传图片","close-on-click-modal":!1},on:{"update:visible":function(t){e.modalPic=t}}},[e.modalPic?a("uploadPictures",{attrs:{isChoice:e.isChoice},on:{getPic:e.getPic}}):e._e()],1),a("el-dialog",{staticClass:"paymentFooter",attrs:{visible:e.modals,modal:!1,title:"商品列表",width:"1000px"},on:{"update:visible":function(t){e.modals=t}}},[a("goods-list",{ref:"goodslist",on:{getProductId:e.getProductId}})],1),a("coupon-list",{ref:"couponTemplates",attrs:{luckDraw:!0},on:{getCouponId:e.getCouponId}})],1)}),[],!1,null,"661be351",null);t.a=n.exports}}]);