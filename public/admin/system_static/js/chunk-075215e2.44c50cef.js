(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-075215e2","chunk-7f387760"],{"0f0e":function(t,e,a){"use strict";a("d81d"),a("4de4"),a("d3b7"),a("a434"),a("e9c4");var r=a("c4c8"),i={name:"userLabel",props:{},data:function(){return{labelList:[],dataLabel:[],isUser:!1}},mounted:function(){this.setLabel()},methods:{inArray:function(t,e){for(var a in e)if(e[a].id==t)return!0;return!1},setLabel:function(){var t=this;Object(r.z)().then((function(e){e.data.map((function(e){e.children&&(t.isUser=!0,e.children.map((function(e){t.inArray(e.id,t.dataLabel)?e.disabled=!0:e.disabled=!1})))})),t.labelList=e.data})).catch((function(e){t.$message.error(e.msg)}))},selectLabel:function(t){var e;t.disabled?(e=this.dataLabel.indexOf(this.dataLabel.filter((function(e){return e.id==t.id}))[0]),this.dataLabel.splice(e,1),t.disabled=!1):(this.dataLabel.push({label_name:t.label_name,id:t.id}),t.disabled=!0)},subBtn:function(){this.$emit("activeData",JSON.parse(JSON.stringify(this.dataLabel)))},cancel:function(){this.$emit("close")}}};a("3a69"),a=a("2877"),a=Object(a.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"label-wrapper"},[a("div",{staticClass:"list-box"},[t.isUser?t._l(t.labelList,(function(e,r){return a("div",{key:r,staticClass:"label-box"},[e.children?a("div",{staticClass:"title"},[t._v(t._s(e.label_name))]):t._e(),e.children&&e.children.length?a("div",{staticClass:"list"},t._l(e.children,(function(e,r){return a("div",{key:r,staticClass:"label-item",class:{on:e.disabled},on:{click:function(a){return t.selectLabel(e)}}},[t._v("\n            "+t._s(e.label_name)+"\n          ")])})),0):t._e()])})):t._e(),t.isUser?t._e():a("div",[t._v("暂无标签")])],2),a("div",{staticClass:"footer"},[a("el-button",{staticClass:"btns",attrs:{ghost:""},on:{click:t.cancel}},[t._v("取消")]),a("el-button",{staticClass:"btns",attrs:{type:"primary"},on:{click:t.subBtn}},[t._v("确定")])],1)])}),[],!1,null,"37eb90ed",null);e.a=a.exports},"3a69":function(t,e,a){"use strict";var r=a("af76");a.n(r).a},"8c03":function(t,e,a){"use strict";a.r(e);var r=a("0122"),i=a("c964"),n=(a("a15b"),a("d81d"),a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),a("b636"),a("944a"),a("0c47"),a("23dc"),a("3410"),a("d9e2"),a("159b"),a("b0c0"),a("131a"),a("fb6a"),a("90e7"));function o(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */o=function(){return t};var t={},e=Object.prototype,a=e.hasOwnProperty,i=Object.defineProperty||function(t,e,a){t[e]=a.value},n="function"==typeof Symbol?Symbol:{},s=n.iterator||"@@iterator",l=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function u(t,e,a){return Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(e){u=function(t,e,a){return t[e]=a}}function d(t,e,a,r){var n,o,s,l;e=e&&e.prototype instanceof h?e:h,e=Object.create(e.prototype),r=new L(r||[]);return i(e,"_invoke",{value:(n=t,o=a,s=r,l="suspendedStart",function(t,e){if("executing"===l)throw new Error("Generator is already running");if("completed"===l){if("throw"===t)throw e;return k()}for(s.method=t,s.arg=e;;){var a=s.delegate;if(a&&(a=function t(e,a){var r=a.method,i=e.iterator[r];return void 0===i?(a.delegate=null,"throw"===r&&e.iterator.return&&(a.method="return",a.arg=void 0,t(e,a),"throw"===a.method)||"return"!==r&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f):(r=m(i,e.iterator,a.arg),"throw"===r.type?(a.method="throw",a.arg=r.arg,a.delegate=null,f):(i=r.arg,i?i.done?(a[e.resultName]=i.value,a.next=e.nextLoc,"return"!==a.method&&(a.method="next",a.arg=void 0),a.delegate=null,f):i:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,f)))}(a,s),a)){if(a===f)continue;return a}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if("suspendedStart"===l)throw l="completed",s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);if(l="executing",a=m(n,o,s),"normal"===a.type){if(l=s.done?"completed":"suspendedYield",a.arg===f)continue;return{value:a.arg,done:s.done}}"throw"===a.type&&(l="completed",s.method="throw",s.arg=a.arg)}})}),e}function m(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(t){return{type:"throw",arg:t}}}t.wrap=d;var f={};function h(){}function p(){}function v(){}n={};var b=(u(n,s,(function(){return this})),Object.getPrototypeOf),g=(b=b&&b(b(D([]))),b&&b!==e&&a.call(b,s)&&(n=b),v.prototype=h.prototype=Object.create(n));function w(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function y(t,e){var n;i(this,"_invoke",{value:function(i,o){function s(){return new e((function(n,s){!function i(n,o,s,l){var c;n=m(t[n],t,o);if("throw"!==n.type)return(o=(c=n.arg).value)&&"object"==Object(r.a)(o)&&a.call(o,"__await")?e.resolve(o.__await).then((function(t){i("next",t,s,l)}),(function(t){i("throw",t,s,l)})):e.resolve(o).then((function(t){c.value=t,s(c)}),(function(t){return i("throw",t,s,l)}));l(n.arg)}(i,o,n,s)}))}return n=n?n.then(s,s):s()}})}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function D(t){if(t){var e,r=t[s];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return e=-1,(r=function r(){for(;++e<t.length;)if(a.call(t,e))return r.value=t[e],r.done=!1,r;return r.value=void 0,r.done=!0,r}).next=r}return{next:k}}function k(){return{value:void 0,done:!0}}return i(g,"constructor",{value:p.prototype=v,configurable:!0}),i(v,"constructor",{value:p,configurable:!0}),p.displayName=u(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){return t="function"==typeof t&&t.constructor,!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},w(y.prototype),u(y.prototype,l,(function(){return this})),t.AsyncIterator=y,t.async=function(e,a,r,i,n){void 0===n&&(n=Promise);var o=new y(d(e,a,r,i),n);return t.isGeneratorFunction(a)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},w(g),u(g,c,"Generator"),u(g,s,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e,a=Object(t),r=[];for(e in a)r.push(e);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in a)return t.value=e,t.done=!1,t}return t.done=!0,t}},t.values=D,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&a.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(a,r){return o.type="throw",o.arg=t,e.next=a,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;0<=i;--i){var n=this.tryEntries[i],o=n.completion;if("root"===n.tryLoc)return r("end");if(n.tryLoc<=this.prev){var s=a.call(n,"catchLoc"),l=a.call(n,"finallyLoc");if(s&&l){if(this.prev<n.catchLoc)return r(n.catchLoc,!0);if(this.prev<n.finallyLoc)return r(n.finallyLoc)}else if(s){if(this.prev<n.catchLoc)return r(n.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return r(n.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&a.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var n=i;break}}var o=(n=n&&("break"===t||"continue"===t)&&n.tryLoc<=e&&e<=n.finallyLoc?null:n)?n.completion:{};return o.type=t,o.arg=e,n?(this.method="next",this.next=n.finallyLoc,f):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),x(a),f}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var a,r,i=this.tryEntries[e];if(i.tryLoc===t)return"throw"===(a=i.completion).type&&(r=a.arg,x(i)),r}throw new Error("illegal catch attempt")},delegateYield:function(t,e,a){return this.delegate={iterator:D(t),resultName:e,nextLoc:a},"next"===this.method&&(this.arg=void 0),f}},t}var s={name:"index",data:function(){return{formValidate:{page:1,limit:15,data:"",nickname:""},tableList2:[],timeVal:[],fromList:{title:"选择时间",custom:!0,fromTxt:[{text:"全部",val:""},{text:"今天",val:"today"},{text:"昨天",val:"yesterday"},{text:"最近7天",val:"lately7"},{text:"最近30天",val:"lately30"},{text:"本月",val:"month"},{text:"本年",val:"year"}]},currentid:0,productRow:{},loading2:!1,total2:0}},created:function(){},mounted:function(){this.getListService()},methods:{onchangeTime:function(t){this.timeVal=t,this.formValidate.data=this.timeVal?this.timeVal.join("-"):"",this.getListService()},selectChange:function(t){this.formValidate.data=t,this.timeVal=[],this.getListService()},getListService:function(){var t=this;this.loading2=!0,Object(n.G)(this.formValidate).then(function(){var e=Object(i.a)(o().mark((function e(a){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=a.data,t.tableList2=r.list,t.total2=r.count,t.tableList2.map((function(t){t._isChecked=!1})),t.loading2=!1;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.loading2=!1,t.$message.error(e.msg)}))},userSearchs:function(){this.formValidate.page=1,this.getListService()},currentidRadio:function(t){self.currentid=t.uid,this.productRow=t,this.productRow.uid?"image"===this.$route.query.fodder?(t={image:this.productRow.headimgurl,uid:this.productRow.uid},form_create_helper.set("image",t),form_create_helper.close("image")):this.$emit("imageObject",{image:this.productRow.headimgurl,uid:this.productRow.uid}):this.$message.warning("请先选择商品")}}};a("c479"),a=a("2877"),a=Object(a.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"customer"},[a("el-form",{ref:"formValidate",attrs:{model:t.formValidate,"label-width":"80px",inline:""},nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-form-item",{attrs:{label:"搜索日期："}},[a("el-date-picker",{staticStyle:{width:"250px"},attrs:{editable:!1,"value-format":"yyyy/MM/dd",type:"daterange",placement:"bottom-end","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:t.onchangeTime},model:{value:t.timeVal,callback:function(e){t.timeVal=e},expression:"timeVal"}})],1),a("el-form-item",{attrs:{label:"用户名称："}},[a("el-input",{staticClass:"form_content_width",attrs:{clearable:"",placeholder:"请输入用户名称"},model:{value:t.formValidate.nickname,callback:function(e){t.$set(t.formValidate,"nickname",e)},expression:"formValidate.nickname"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.userSearchs}},[t._v("查询")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading2,expression:"loading2"}],ref:"selection",staticClass:"mt15",attrs:{"highlight-current-row":"","no-userFrom-text":"暂无数据","no-filtered-userFrom-text":"暂无筛选结果",data:t.tableList2,height:"450"}},[a("el-table-column",{attrs:{width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-radio",{attrs:{disabled:!!e.row.is_del,label:e.row.uid},on:{input:function(){return t.currentidRadio(e.row)}},model:{value:t.currentid,callback:function(e){t.currentid=e},expression:"currentid"}},[t._v(" ")])]}}])}),a("el-table-column",{attrs:{label:"ID",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.uid))])]}}])}),a("el-table-column",{attrs:{label:"微信用户名称","min-width":"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.nickname))]),a("div",{staticStyle:{color:"red"}},[t._v(t._s(e.row.is_del?"用户已注销":""))])]}}])}),a("el-table-column",{attrs:{label:"客服头像","min-width":"90"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("div",{directives:[{name:"viewer",rawName:"v-viewer"}],staticClass:"tabBox_img"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.row.headimgurl,expression:"scope.row.headimgurl"}]})])]}}])}),a("el-table-column",{attrs:{label:"用户类型","min-width":"130"},scopedSlots:t._u([{key:"default",fn:function(e){return["wechat"===e.row.user_type?a("span",[t._v("公众号")]):"routine"===e.row.user_type?a("span",[t._v("小程序")]):"h5"===e.row.user_type?a("span",[t._v("H5")]):"pc"===e.row.user_type?a("span",[t._v("PC")]):a("span",[t._v("--")])]}}])}),a("el-table-column",{attrs:{label:"性别","min-width":"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{directives:[{name:"show",rawName:"v-show",value:1===e.row.sex,expression:"scope.row.sex === 1"}]},[t._v("男")]),a("span",{directives:[{name:"show",rawName:"v-show",value:2===e.row.sex,expression:"scope.row.sex === 2"}]},[t._v("女")]),a("span",{directives:[{name:"show",rawName:"v-show",value:0===e.row.sex,expression:"scope.row.sex === 0"}]},[t._v("保密")]),a("span",{directives:[{name:"show",rawName:"v-show",value:null===e.row.sex,expression:"scope.row.sex === null"}]},[t._v("--")])]}}])}),a("el-table-column",{attrs:{label:"是否关注公众号","min-width":"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{domProps:{textContent:t._s(1===e.row.subscribe?"关注":"未关注")}})]}}])})],1),a("div",{staticClass:"acea-row row-right page"},[t.total2?a("pagination",{attrs:{total:t.total2,page:t.formValidate.page,limit:t.formValidate.limit},on:{"update:page":function(e){return t.$set(t.formValidate,"page",e)},"update:limit":function(e){return t.$set(t.formValidate,"limit",e)},pagination:t.getListService}}):t._e()],1)],1)}),[],!1,null,"2f15f824",null);e.default=a.exports},"9a5a":function(t,e,a){"use strict";var r=a("d496");a.n(r).a},af76:function(t,e,a){},c479:function(t,e,a){"use strict";var r=a("f691");a.n(r).a},d496:function(t,e,a){},ed2f:function(t,e,a){"use strict";a.r(e);var r=a("f3f3"),i=(a("e9c4"),a("4de4"),a("d3b7"),a("a434"),a("b0c0"),a("d81d"),a("498a"),a("2f62")),n=a("0f0e"),o=a("c4ad"),s=a("c42b"),l=a("c4c8"),c=a("c24f"),u=a("90e7"),d=a("d708"),m=a("c276"),f=a("8c03");o={name:"storeCouponCreate",components:{goodsList:o.default,newsCategory:s.a,customerInfo:f.default,userLabel:n.a},data:function(){return{customerShow:!1,labelShow:!1,disabled:!1,maxCols:4,labelSelect:[],scrollerHeight:"600",contentTop:"10",contentWidth:"98%",formatImg:["jpg","jpeg","png","bmp","gif"],formatVoice:["mp3","wma","wav","amr"],header:{},fileUrl:d.a.apiBaseURL+"/file/upload/1",formData:{name:"",type:"text",time:0,label_id:[],image:"",cate_id:"",content:{content:"",src:"",list:{}}},labelSort:[],isReceiveTime:0,modals:!1,ruleValidate:{name:[{required:!0,message:"请填写二维码名称",trigger:"blur"}],cate_id:[{required:!0,message:"请选择二维码分组",trigger:"change"}]},id:0,dataLabel:[],loading:!1}},computed:Object(r.a)({},Object(i.d)("media",["isMobile"])),created:function(){this.getUserLabelAll(),this.userLabel(),this.getToken(),this.$route.query.id&&(this.id=this.$route.query.id,this.getDetail())},methods:{activeData:function(t){this.labelShow=!1,this.dataLabel=t},labelClose:function(){this.labelShow=!1},openLabel:function(t){this.labelShow=!0,this.dataLabel.length&&this.$refs.userLabel.userLabel(JSON.parse(JSON.stringify(this.dataLabel)))},closeLabel:function(t){var e=this.dataLabel.indexOf(this.dataLabel.filter((function(e){return e.id==t.id}))[0]);this.dataLabel.splice(e,1)},getDetail:function(){var t=this;Object(u.Vb)(this.id).then((function(e){t.formData=e.data,0<e.data.time&&(t.isReceiveTime=1),e.data.label_id.length&&(t.dataLabel=e.data.label_id)}))},customer:function(){this.customerShow=!0},addLabel:function(){var t=this;this.$modalForm(Object(c.M)(0)).then((function(){return t.userLabel()}))},userLabel:function(){var t=this;Object(l.n)().then((function(e){t.labelSelect=e.data.list})).catch((function(e){t.$message.error(e.msg)}))},imageObject:function(t){this.customerShow=!1,this.formData.uid=t.uid,this.formData.avatar=t.image},getCentList:function(t){this.formData.content.list=t.new[0],this.modals=!1},delContent:function(){this.formData.content.list={}},handleSuccess:function(t,e){200===t.status?(this.formData.content.src=t.data.src,this.$message.success(t.msg)):this.$message.error(t.msg)},handleFormatError:function(t){"image"===this.formData.type?this.$message.warning("请上传bmp/png/jpeg/jpg/gif格式的图片"):this.$message.warning("请上传mp3/wma/wav/amr格式的语音")},handleMaxSize:function(t){this.$message.warning("请上传文件2M以内的文件")},getToken:function(){this.header["Authori-zation"]="Bearer "+Object(m.c)("token")},selectMenu:function(t){this.formData.type=t},getUserLabelAll:function(){var t=this;Object(u.Zb)().then((function(e){e=e.data.data,t.labelSort=e}))},save:function(){var t=this;if(!this.formData.name)return this.$message.error("请输入二维码名称");if(!this.formData.cate_id)return this.$message.error("请选择分组");if(!this.dataLabel.length)return this.$message.error("请选择用户标签");var e=[];if(this.dataLabel.map((function(t){e.push(t.id)})),this.formData.label_id=e,!this.formData.uid)return this.$message.error("请选择推广员");if(this.isReceiveTime){if(this.formData.time<1)return this.$message.error("使用有效期限不能小于1天")}else this.formData.time=0;return"text"!==this.formData.type&&"url"!==this.formData.type||this.formData.content.content.trim()?"voice"!==this.formData.type&&"image"!==this.formData.type||this.formData.content.src.trim()?"news"!==this.formData.type||this.formData.content.list.title.trim()?(this.disabled=!1,this.loading=!0,void Object(u.Xb)(this.id,this.formData).then((function(e){t.disabled=!0,t.$message.success(e.msg),setTimeout((function(){t.$router.push({path:t.$routeProStr+"/marketing/channel_code/channelCodeIndex"})}),1e3)})).catch((function(e){t.disabled=!0,t.$message.error(e.msg)}))):this.$message.error("请选择图文消息"):this.$message.error("请先上传消息"):this.$message.error("请输入内容")}}},a("9a5a"),s=a("2877"),f=Object(s.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("pages-header",{ref:"pageHeader",attrs:{title:t.$route.meta.title,backUrl:t.$routeProStr+"/marketing/channel_code/channelCodeIndex"}}),a("el-card",{staticClass:"mt16",attrs:{bordered:!1,shadow:"never"}},[a("el-form",{attrs:{model:t.formData,"label-width":"100px",rules:t.ruleValidate}},[a("el-form-item",{attrs:{label:"二维码名称："}},[a("el-input",{staticClass:"content_width",attrs:{clearable:"",placeholder:"请输入二维码名称"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"二维码分组："}},[a("el-select",{staticClass:"content_width",attrs:{clearable:""},model:{value:t.formData.cate_id,callback:function(e){t.$set(t.formData,"cate_id",e)},expression:"formData.cate_id"}},t._l(t.labelSort,(function(t,e){return a("el-option",{key:e,attrs:{value:t.id,label:t.cate_name}})})),1)],1),a("el-form-item",{attrs:{label:"用户标签："}},[a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"labelInput acea-row row-between-wrapper",on:{click:t.openLabel}},[a("div",{staticStyle:{width:"90%"}},[t.dataLabel.length?a("div",t._l(t.dataLabel,(function(e,r){return a("el-tag",{key:r,attrs:{closable:""},on:{close:function(a){return t.closeLabel(e)}}},[t._v(t._s(e.label_name))])})),1):a("span",{staticClass:"span"},[t._v("选择用户关联标签")])]),a("div",{staticClass:"ivu-icon ivu-icon-ios-arrow-down"})]),a("span",{staticClass:"addfont",on:{click:t.addLabel}},[t._v("新增标签")])])]),a("el-form-item",{attrs:{label:"关联推广员："}},[a("div",{staticClass:"picBox",on:{click:t.customer}},[t.formData.avatar?a("div",{staticClass:"pictrue"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.formData.avatar,expression:"formData.avatar"}]})]):a("div",{staticClass:"upLoad acea-row row-center-wrapper"},[a("i",{staticClass:"el-icon-user",staticStyle:{"font-size":"24px"}})])]),a("div",{staticClass:"trip"},[t._v("扫码注册的新用户,将自动成为此推广员的下级,与分销推广功能一致")])]),a("el-form-item",{attrs:{label:"有效期："}},[a("el-radio-group",{model:{value:t.isReceiveTime,callback:function(e){t.isReceiveTime=e},expression:"isReceiveTime"}},[a("el-radio",{attrs:{label:0}},[t._v("永久")]),a("el-radio",{attrs:{label:1}},[t._v("有效期")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isReceiveTime,expression:"isReceiveTime"}]},[a("el-input-number",{staticClass:"content_width",attrs:{controls:!1,min:1,max:1e4,precision:0,placeholder:"请输入天数"},model:{value:t.formData.time,callback:function(e){t.$set(t.formData,"time",e)},expression:"formData.time"}}),t._v("\n          天\n        ")],1),a("div",{staticClass:"trip"},[t._v("临时码过期后不能再扫码,永久二维码最大创建数量为10万个")])],1),a("el-form-item",{attrs:{label:"回复内容："}},[a("el-radio-group",{model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}},[a("el-radio",{attrs:{label:"text"}},[t._v("文字内容")]),a("el-radio",{attrs:{label:"voice"}},[t._v("声音消息")]),a("el-radio",{attrs:{label:"image"}},[t._v("图片消息")]),a("el-radio",{attrs:{label:"news"}},[t._v("图文消息")])],1)],1),"text"===t.formData.type||"url"===t.formData.type?a("el-form-item",{attrs:{label:"消息内容：",prop:"content"}},[a("el-input",{staticClass:"content_width",attrs:{type:"textarea",rows:"2",clearable:"",placeholder:"text"===t.formData.type?"请填写消息内容":"请填写网址链接"},model:{value:t.formData.content.content,callback:function(e){t.$set(t.formData.content,"content",e)},expression:"formData.content.content"}})],1):t._e(),"news"===t.formData.type?a("el-form-item",{attrs:{label:"选取图文："}},[a("el-button",{on:{click:function(e){t.modals=!0}}},[t._v("选择图文消息")]),t.formData.content.list.title?a("div",{staticClass:"news-box"},[a("img",{staticClass:"news_pic",attrs:{src:t.formData.content.list.image_input[0]}}),a("span",[t._v(t._s(t.formData.content.list.title))]),a("i",{staticClass:"el-icon-error del_icon",on:{click:t.delContent}})]):t._e()],1):t._e(),"image"===t.formData.type||"voice"===t.formData.type?a("el-form-item",{attrs:{label:"image"===t.formData.type?"图片地址：":"语音地址：",prop:"src"}},[a("div",{staticClass:"acea-row row-middle"},[a("el-input",{staticClass:"content_width mr15",attrs:{readonly:"readonly",placeholder:"请填入链接地址"},model:{value:t.formData.content.src,callback:function(e){t.$set(t.formData.content,"src",e)},expression:"formData.content.src"}}),a("el-upload",{staticClass:"mr20",staticStyle:{"margin-top":"1px"},attrs:{"show-file-list":!1,action:t.fileUrl,"on-success":t.handleSuccess,format:"image"===t.formData.type?t.formatImg:t.formatVoice,"max-size":2048,headers:t.header,"on-format-error":t.handleFormatError,"on-exceeded-size":t.handleMaxSize}},[a("el-button",{attrs:{type:"primary"}},[t._v("上传")])],1)],1),a("span",{directives:[{name:"show",rawName:"v-show",value:"image"===t.formData.type,expression:"formData.type === 'image'"}]},[t._v("文件最大2Mb，支持bmp/png/jpeg/jpg/gif格式")]),a("span",{directives:[{name:"show",rawName:"v-show",value:"voice"===t.formData.type,expression:"formData.type === 'voice'"}]},[t._v("文件最大2Mb，支持mp3格式,播放长度不超过60s")])]):t._e()],1),a("el-button",{staticClass:"submit",attrs:{type:"primary",loading:t.loading,disabled:t.disabled},on:{click:t.save}},[t._v("立即提交")])],1),a("el-dialog",{attrs:{visible:t.customerShow,title:"请选择商城用户","show-close":!0,width:"720px"},on:{"update:visible":function(e){t.customerShow=e}}},[t.customerShow?a("customerInfo",{on:{imageObject:t.imageObject}}):t._e()],1),a("el-dialog",{staticClass:"modelBox",attrs:{visible:t.modals,title:"发送消息",width:"1200px"},on:{"update:visible":function(e){t.modals=e}}},[t.modals?a("news-category",{attrs:{scrollerHeight:t.scrollerHeight,contentTop:t.contentTop,contentWidth:t.contentWidth,maxCols:t.maxCols},on:{getCentList:t.getCentList}}):t._e()],1),a("el-dialog",{attrs:{visible:t.labelShow,scrollable:"",title:"请选择用户标签",closable:!1,width:"540px","footer-hide":!0,"mask-closable":!1},on:{"update:visible":function(e){t.labelShow=e}}},[a("userLabel",{ref:"userLabel",on:{activeData:t.activeData,close:t.labelClose}})],1)],1)}),[],!1,null,"42114b4c",null);e.default=f.exports},f691:function(t,e,a){}}]);